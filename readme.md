# Json Parser

The package contains various json parser implementations mainly for the education purpose.

I wanted to study how to implement a custom parser (mainly using recursive descendant approach) checking if there are any benefits from using TypedArrays (like Uint8Array) to represent the input.


## Results

The benchmarks are generated by [mitata](https://github.com/evanwashere/mitata) package.

```sh
clk: ~3.25 GHz
cpu: Apple M2
runtime: node 22.9.0 (arm64-darwin)

benchmark                           avg (min … max) p75 / p99    (min … top 1%)
--------------------------------------------------- -------------------------------
douglas crockford rdp 900kb           10.22 ms/iter  10.30 ms              ▇▇█ ▄▂
                               (9.81 ms … 10.41 ms)  10.39 ms ▃▃▃▄▃▁▁▁▃▁▃▇▆██████▇▄
                          gc(  3.84 ms …   9.30 ms)  12.28 mb ( 12.24 mb… 12.63 mb)

douglas crockford rdp 2 [eval] 900kb   6.07 ms/iter   5.85 ms ▂█
                               (5.63 ms … 11.21 ms)  10.99 ms ██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▂
                          gc(  1.15 ms …   6.93 ms)   5.98 mb (  5.95 mb…  6.44 mb)

typed rdp 900kb                        9.54 ms/iter   9.51 ms  ▃█
                               (9.26 ms … 12.01 ms)  11.58 ms ▂██▄▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
                          gc(  4.25 ms …  11.03 ms)  12.64 mb ( 12.59 mb… 12.71 mb)

typed rdp class 900kb                 12.29 ms/iter  12.39 ms       ▂█▂▆▄ ▄▂
                              (11.95 ms … 12.69 ms)  12.67 ms ▃▃▃▇▇▅█████▅██▅▇▃▅▁▁▅
                          gc(  4.41 ms …   9.56 ms)  12.70 mb ( 12.65 mb… 12.74 mb)

typed rdp class 2 900kb               11.83 ms/iter  11.94 ms                ▆ █
                              (11.36 ms … 12.07 ms)  12.05 ms ▃▁▁▁▁▃▃▄▄▃█▆███████▁▄
                          gc(  4.71 ms …  12.05 ms)  12.64 mb ( 12.61 mb… 12.68 mb)
```


## Learnings

At first glance, TypedArray usage show almost similar execution time compared to original implementation. However, the time can be improved further by removing string to TypedArray conversion from the parsing call.

And "eval" approach surpasses all the manual implementations.


## Appendix

- [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)